{
  "version": 3,
  "sources": ["../src/main.ts", "../src/html-generator.ts"],
  "sourcesContent": ["import { BrowserWindow, app, ipcMain, dialog, shell, ipcRenderer } from 'electron'\nimport { join, dirname, basename, extname } from 'path'\nimport * as fs from 'fs'\nimport { generateHTML } from './html-generator'\n\nconst main = () => {\n    onReady()\n    appListens()\n}\n\nconst onReady = () => {\n    app.whenReady().then(() => {\n        const mainWindow = createWindow()\n        mainWindowListens(mainWindow)\n    })\n}\n\nconst mainWindowListens = (mainWindow: BrowserWindow) => {\n\n    ipcMain.on('minimize', () => mainWindow.minimize())\n    ipcMain.on('maximize', () => mainWindow.maximize())\n    ipcMain.on('unmaximize', () => mainWindow.unmaximize())    \n    ipcMain.on('close', () => mainWindow.close())\n    ipcMain.on('to-close', event => event.reply('to-check-if-be-saved'))\n\n    ipcMain.on('open-file-dialog', async (event) => {\n        try {\n            const result = await dialog.showOpenDialog({\n                properties: ['openFile'],\n                filters: [{ name: 'Markdown Files', extensions: ['md', 'markdown'] }],\n            })\n            event.reply('open-file-dialog-reply', result)\n        } catch (error) {\n            console.error('Error opening file dialog:', error)\n            event.reply('open-file-dialog-reply', { error: error.message })\n        }\n    })\n    \n    ipcMain.on('open-file', async (event, filePath) => {\n        try {\n            const fileContent = await fs.promises.readFile(filePath, 'utf-8')\n            event.reply('file-content', filePath, dirname(filePath), fileContent)\n        } catch (error) {\n            event.reply('file-error', error.message)\n        }\n    })\n\n    ipcMain.on('save-file-dialog', async (event, contentToSave) => {\n        try {\n            const result = await dialog.showSaveDialog({\n                properties: ['createDirectory'],\n                filters: [{ name: 'Markdown Files', extensions: ['md', 'markdown'] }],\n            })\n    \n            if (!result.canceled) {\n                await fs.promises.writeFile(result.filePath as fs.PathLike, contentToSave, 'utf-8')\n                event.reply('save-file-dialog-reply', { filePath: result.filePath })\n            } else {\n                event.reply('save-file-dialog-reply', { canceled: true })\n            }\n        } catch (error) {\n            console.error('Error saving file:', error)\n            event.reply('save-file-dialog-reply', { error: error.message })\n        }\n    })\n    \n    ipcMain.on('save-file', async (event, { filePath, contentToSave }) => {\n        try {\n            await fs.promises.writeFile(filePath, contentToSave, 'utf-8')\n            event.reply('file-saved', filePath, dirname(filePath))\n        } catch (error) {\n            console.error('Error saving file:', error)\n            event.reply('file-save-error', { error: error.message })\n        }\n    })\n    \n    ipcMain.on('save-as-file-dialog', async (event, contentToSave) => {\n        try {\n            const result = await dialog.showSaveDialog({\n                properties: ['createDirectory'],\n                filters: [{ name: 'Markdown Files', extensions: ['md', 'markdown'] }],\n            })\n    \n            if (!result.canceled) {\n                await fs.promises.writeFile(result.filePath as fs.PathLike, contentToSave, 'utf-8')\n                event.reply('save-as-file-dialog-reply', { filePath: result.filePath })\n            } else {\n                event.reply('save-as-file-dialog-reply', { canceled: true })\n            }\n        } catch (error) {\n            console.error('Error saving file as:', error)\n            event.reply('save-as-file-dialog-reply', { error: error.message })\n        }\n    })\n\n    ipcMain.on('to-generate-html', async (event, { filePath, contentToExport }) => {\n        const baseName = basename(filePath, extname(filePath))\n        try {\n            await fs.promises.writeFile(\n                join(dirname(filePath), baseName + '.html'),\n                generateHTML(baseName, contentToExport, true))\n        } catch (error) {\n            console.error('Error exporting HTML:', error)\n        }\n    })\n}\n\nconst createWindow = () => {\n    const win = new BrowserWindow({\n        width: 800,\n        height: 600,\n        transparent: true,\n        resizable: true,\n        frame: false,\n        titleBarStyle: 'hidden',\n        webPreferences: {\n            webSecurity: false,\n            nodeIntegration: true,\n            preload: join(__dirname, 'preload.js'),\n            experimentalFeatures: true,\n        }\n    })\n    const path = join(__dirname, 'app', 'index.html')\n    win.loadFile(path)\n    return win\n}\n\nconst appListens = () => {\n    app.on('window-all-closed', () => {\n        if (process.platform !== 'darwin')\n            app.quit()\n    })\n    app.on('activate', () => {\n        if (BrowserWindow.getAllWindows().length === 0)\n            createWindow()\n    })\n    app.on('web-contents-created', (e, webContents) => {\n        webContents.on('will-navigate', (event, url) => {\n            event.preventDefault()\n            shell.openExternal(url)\n        })\n    })\n}\n\nmain()\n\n", "export const generateHTML = (title: string, input: string, withStyle: boolean = false): string => {\r\n    const lines = input.split('\\n')\r\n    \r\n    const htmlHeader = `<!DOCTYPE html>\r\n<html>\r\n<head>\r\n  <title>${title}</title>\r\n  <meta charset=\"utf-8\" />\r\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\r\n  ${withStyle ? insertStyle() : ''}\r\n  </head>\r\n  <body>\r\n  <div class=\"container\">`\r\n\r\n    const htmlFooter = '\\n</div>\\n</body>\\n</html>\\n'\r\n    \r\n    // \u7EC4\u5408\u5934\u90E8\u3001\u5185\u5BB9\u548C\u5C3E\u90E8\r\n    const formattedHTML = `${htmlHeader}\\n${lines.join('\\n')}${htmlFooter}\\n`\r\n    \r\n    return formattedHTML\r\n}\r\n\r\nconst insertStyle = () => {\r\n    return String.raw`\r\n  <style>\r\n    body {\r\n        background-color: black;\r\n        display: flex;\r\n        justify-content: center;\r\n    }\r\n    .container {\r\n        color: white;\r\n        width: 75%;\r\n        filter: revert(0.862745) hue-rotate(180deg);\r\n    }\r\n    table{width:100%;border-collapse:collapse;border:3px solid #fff}table th,table td{border:1px solid #fff;padding:10px;vertical-align:middle;background-color:transparent;color:#fff}table th{background-color:#33333385;color:#fff}table tbody tr>*{border:1px solid #fff;padding:5px;background-color:transparent}table tbody tr table,table tbody tr ul,table tbody tr ol,table tbody tr blockquote,table tbody tr img,table tbody tr svg{width:100%;margin:0;padding:0}table tbody tr table{border:1px solid #fff;margin-top:5px;margin-bottom:5px}table tbody tr ul,table tbody tr ol{list-style:none;padding-left:10px;margin-top:5px;margin-bottom:5px}table tbody tr blockquote{border-left:4px solid #333;padding:10px;margin:5px 0}table tbody tr img,table tbody tr svg{max-width:100%;height:auto}pre code{display:block;position:relative;border-radius:4px;font-family:Consolas,Monaco,monospace;overflow-x:auto}p{text-indent:2em;margin-bottom:1.326em;white-space:break-spaces;word-wrap:break-word;word-break:break-all}a{text-decoration:underline;color:#14e692}a:active,a:hover{color:#14cae6}a:active,a:hover{cursor:pointer}img{max-width:80%;max-height:80%;margin:auto;display:block}ul{list-style-type:none;padding-left:2em;margin:0}ul>li{position:relative;padding-left:1em;margin-bottom:.5em}ul>li:before{content:\"\\2022\";position:absolute;left:-1em}ol{list-style-type:none;counter-reset:li;padding-left:2em;margin:0}ol>li{position:relative;padding-left:1em;margin-bottom:.5em}ol>li:before{content:counter(li) \". \";counter-increment:li;position:absolute;left:-2em;width:2em;text-align:right}blockquote{display:block;clear:both;font-size:1em;font-style:normal;line-height:1.8;text-indent:0;border:none;color:#c1d5b9;margin-block-start:1em;margin-block-end:1em;margin-inline-start:40px;margin-inline-end:40px;position:relative;padding-top:20px;padding-bottom:20px}blockquote:before{content:\"\\201c\";left:0;top:0;transform:translateY(-100%) translate(-100%);color:#e0e0e0;font-size:4em;font-family:Arial,serif;line-height:1em;font-weight:700;position:absolute;margin-top:1em;margin-bottom:1em}blockquote:after{content:\"\\201d\";right:0;bottom:0;transform:translateY(100%) translate(100%);color:#e0e0e0;font-size:4em;font-family:Arial,serif;line-height:1em;font-weight:700;position:absolute;margin-top:1em;margin-bottom:1em}p{text-align:justify}ul[name=user-content-table-of-contents]{list-style-type:none;padding-left:20px;margin:0}ul[name=user-content-table-of-contents] p{text-indent:0;margin:0;padding:0}ul[name=user-content-table-of-contents]>li{position:relative;padding-left:1em;margin-bottom:.3em}ul[name=user-content-table-of-contents]>li:before{display:none}ul[name=user-content-table-of-contents]>li ul{list-style-type:none;padding-left:20px}ul[name=user-content-table-of-contents]>li ul>li{position:relative;padding-left:1em;margin-bottom:.3em}ul[name=user-content-table-of-contents]>li ul>li:before{display:none}ul[name=user-content-table-of-contents]>li ul>li ul{padding-left:40px}pre code.hljs{display:block;overflow-x:auto;padding:1em}code.hljs{padding:3px 5px}.hljs{background:#272822;color:#ddd}.hljs-tag,.hljs-keyword,.hljs-selector-tag,.hljs-literal,.hljs-strong,.hljs-name{color:#f92672}.hljs-code{color:#66d9ef}.hljs-attribute,.hljs-symbol,.hljs-regexp,.hljs-link{color:#bf79db}.hljs-string,.hljs-bullet,.hljs-subst,.hljs-title,.hljs-section,.hljs-emphasis,.hljs-type,.hljs-built_in,.hljs-selector-attr,.hljs-selector-pseudo,.hljs-addition,.hljs-variable,.hljs-template-tag,.hljs-template-variable{color:#a6e22e}.hljs-title.class_,.hljs-class .hljs-title{color:#fff}.hljs-comment,.hljs-quote,.hljs-deletion,.hljs-meta{color:#75715e}.hljs-keyword,.hljs-selector-tag,.hljs-literal,.hljs-doctag,.hljs-title,.hljs-section,.hljs-type,.hljs-selector-id{font-weight:700}\r\n  </style>`\r\n}\r\n"],
  "mappings": "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",
  "names": []
}
